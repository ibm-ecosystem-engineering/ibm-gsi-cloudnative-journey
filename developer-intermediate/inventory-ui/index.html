<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This Learning Journey enables cloud operators and developers to deliver cloud-native solutions with Red Hat OpenShift in hybrid cloud environments."><meta name=author content="Ecosystem Engineering"><link href=https://ibm-ecosystem-lab.github.io/developer-intermediate/inventory-ui/ rel=canonical><link rel=icon href=../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>UI - TechZone Automation - Cloud-Native Learning Journey</title><link rel=stylesheet href=../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../css/extra.css><link rel=stylesheet href=../../css/toolkit-code.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-155887541-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="TechZone Automation - Cloud-Native Learning Journey - UI"><meta property=og:description content="This Learning Journey enables cloud operators and developers to deliver cloud-native solutions with Red Hat OpenShift in hybrid cloud environments."><meta content=https://ibm-ecosystem-lab.github.io/developer-intermediate/inventory-ui/ property=og:url><meta property=og:image content=https://ibm-ecosystem-lab.github.io/assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#setup class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="TechZone Automation - Cloud-Native Learning Journey" class="md-header__button md-logo" aria-label="TechZone Automation - Cloud-Native Learning Journey" data-md-component=logo> <img src=../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TechZone Automation - Cloud-Native Learning Journey </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> UI </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../.."
      title="TechZone Automation - Cloud-Native Learning Journey"
      class="md-nav__button md-logo"
      aria-label="TechZone Automation - Cloud-Native Learning Journey"
      data-md-component="logo"
    >
      
  <img src="../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    TechZone Automation - Cloud-Native Learning Journey
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Introduction <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Introduction data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/introduction/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../getting-started/prereqs/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../getting-started/checksetup/ class=md-nav__link> Validate Environment </a> </li> <li class=md-nav__item> <a href=../../getting-started/devenvsetup/ class=md-nav__link> Developer Tools Setup </a> </li> <li class=md-nav__item> <a href=../../getting-started/cli/ class=md-nav__link> Developer Tools CLI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Developer Foundation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Foundation" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Developer Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-foundation/agenda/ class=md-nav__link> Agenda </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/cloud-native-overview/ class=md-nav__link> What is Cloud-Native? </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/cloud-native-app-dev/ class=md-nav__link> Cloud-Native App Dev </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/containers/ class=md-nav__link> Containers Overview </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-overview/ class=md-nav__link> Kubernetes 'overview' </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/openshift/ class=md-nav__link> Openshift 'overview' </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-core-concepts/ class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-multi-container-pods/ class=md-nav__link> Multi-Container Pods </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-observability/k8s-observability/ class=md-nav__link> Observability </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-pod-design/ class=md-nav__link> Pod Design </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-services-networking/ class=md-nav__link> Services & Networking </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-state-persistence/ class=md-nav__link> State Persistence </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-troubleshooting/ class=md-nav__link> Troubleshoot </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/garage-development/ class=md-nav__link> Garage Method </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> Developer Intermediate <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Intermediate" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer Intermediate </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../agenda/ class=md-nav__link> Agenda </a> </li> <li class=md-nav__item> <a href=../deploy-app/ class=md-nav__link> Deploy First App </a> </li> <li class=md-nav__item> <a href=../artifact-management/ class=md-nav__link> Artifact Management </a> </li> <li class=md-nav__item> <a href=../code-analysis/ class=md-nav__link> Code Analysis </a> </li> <li class=md-nav__item> <a href=../continuous-delivery/ class=md-nav__link> Continuous Delivery </a> </li> <li class=md-nav__item> <a href=../content-overview/ class=md-nav__link> DevSecOps Overview </a> </li> <li class=md-nav__item> <a href=../continuous-integration/ class=md-nav__link> Continuous Integration </a> </li> <li class=md-nav__item> <a href=../image-registry/ class=md-nav__link> Image Registry </a> </li> <li class=md-nav__item> <a href=../log-management/ class=md-nav__link> Log Management </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> Monitoring </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_11 type=checkbox id=__nav_3_11 checked> <label class=md-nav__link for=__nav_3_11> Inventory App <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Inventory App" data-md-level=2> <label class=md-nav__title for=__nav_3_11> <span class="md-nav__icon md-icon"></span> Inventory App </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../inventory-application/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../inventory-prebuilt-solution/ class=md-nav__link> Solution </a> </li> <li class=md-nav__item> <a href=../inventory-service/ class=md-nav__link> Service </a> </li> <li class=md-nav__item> <a href=../inventory-bff/ class=md-nav__link> BFF </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> UI <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> UI </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#setup class=md-nav__link> Setup </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optionnal-access-cloud-shell class=md-nav__link> [Optionnal]: Access cloud shell </a> </li> <li class=md-nav__item> <a href=#setup-your-shell-environment class=md-nav__link> Setup your shell environment </a> </li> <li class=md-nav__item> <a href=#log-in-to-openshift-cluster class=md-nav__link> Log in to OpenShift Cluster </a> </li> <li class=md-nav__item> <a href=#setup-code-base class=md-nav__link> Setup code base </a> </li> <li class=md-nav__item> <a href=#create-the-initial-components class=md-nav__link> Create the initial components </a> </li> <li class=md-nav__item> <a href=#add-a-service-component-to-get-mock-stock-items class=md-nav__link> Add a service component to get mock Stock Items </a> </li> <li class=md-nav__item> <a href=#add-a-service-that-calls-the-bff class=md-nav__link> Add a service that calls the BFF </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Developer Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Advanced" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Developer Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-advanced-1/inventory-cd/ class=md-nav__link> CD for Inventory App </a> </li> <li class=md-nav__item> <a href=../../developer-advanced-1/database-with-cloudant/ class=md-nav__link> Database with Cloudant </a> </li> <li class=md-nav__item> <a href=../../developer-advanced-1/database-with-mongodb/ class=md-nav__link> Database with MongoDB </a> </li> <li class=md-nav__item> <a href=../../developer-advanced-1/inventory-appid/ class=md-nav__link> Authentication with AppID </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#setup class=md-nav__link> Setup </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optionnal-access-cloud-shell class=md-nav__link> [Optionnal]: Access cloud shell </a> </li> <li class=md-nav__item> <a href=#setup-your-shell-environment class=md-nav__link> Setup your shell environment </a> </li> <li class=md-nav__item> <a href=#log-in-to-openshift-cluster class=md-nav__link> Log in to OpenShift Cluster </a> </li> <li class=md-nav__item> <a href=#setup-code-base class=md-nav__link> Setup code base </a> </li> <li class=md-nav__item> <a href=#create-the-initial-components class=md-nav__link> Create the initial components </a> </li> <li class=md-nav__item> <a href=#add-a-service-component-to-get-mock-stock-items class=md-nav__link> Add a service component to get mock Stock Items </a> </li> <li class=md-nav__item> <a href=#add-a-service-that-calls-the-bff class=md-nav__link> Add a service that calls the BFF </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/edit/main/docs/developer-intermediate/inventory-ui.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>UI</h1> <p><strong>Develop and deploy the UI component of the inventory application</strong></p> <!--- cSpell:ignore ICPA openshiftconsole Theia userid toolset crwexposeservice gradlew bluemix ocinstall Mico crwopenlink crwopenapp swaggerui gitpat gituser  buildconfig yourproject wireframe devenvsetup viewapp crwopenlink  atemplatized rtifactoryurlsetup Kata Koda configmap Katacoda checksetup cndp katacoda checksetup Linespace igccli regcred REPLACEME Tavis pipelinerun openshiftcluster invokecloudshell cloudnative sampleapp bwoolf hotspots multicloud pipelinerun Sricharan taskrun Vadapalli Rossel REPLACEME cloudnativesampleapp artifactoryuntar untar Hotspot devtoolsservices Piyum Zonooz Farr Kamal Arora Laszewski  Roadmap roadmap Istio Packt buildpacks automatable ksonnet jsonnet targetport podsiks SIGTERM SIGKILL minikube apiserver multitenant kubelet multizone Burstable checksetup handson  stockbffnode codepatterns devenvsetup newwindow preconfigured cloudantcredentials apikey Indexyaml classname  errorcondition tektonpipeline gradlew gitsecret viewapp cloudantgitpodscreen crwopenlink cdply crwopenapp --> <h2 id=setup>Setup<a class=headerlink href=#setup title="Permanent link">&para;</a></h2> <h3 id=optionnal-access-cloud-shell>[Optionnal]: Access cloud shell<a class=headerlink href=#optionnal-access-cloud-shell title="Permanent link">&para;</a></h3> <p>If you don't plan to use your workstation to run this lab, you can use IBM Cloud Shell:</p> <ul> <li> <p>Open the IBM Cloud console (cloud.ibm.com) in your browser and log in if needed.</p> </li> <li> <p>Invoke Cloud Shell by clicking on the button at the top, right-hand corner of the browser window.</p> </li> </ul> <p><img alt="Invoke Cloud Shell" src=../../images/common/invokecloudshell.png></p> <h3 id=setup-your-shell-environment>Setup your shell environment<a class=headerlink href=#setup-your-shell-environment title="Permanent link">&para;</a></h3> <p>We have provided a simplified installer that will install tools and configure the shell environment. The installer will first check if the required tool is available in the path. If not, the missing tool(s) will be installed into the <code>bin/</code> folder of the current user's home directory and the <code>PATH</code> variable will be updated in the <code>.bashrc</code> or <code>.zshrc</code> file to include that directory.</p> <p>The following tools are included in the shell installer:</p> <ul> <li>IBM Cloud cli (ibmcloud)</li> <li>ArgoCD cli (argocd)</li> <li>Tekton cli (tkn)</li> <li>IBM Cloud fast switching (icc)</li> <li>kube-ps1 prompt</li> <li>OpenShift cli (oc)</li> <li>Kubernetes cli (kubectl)</li> <li>JSON cli (jq)</li> <li> <p>IBM Garage Cloud CLI (igc)</p> </li> <li> <p>Set up the shell environment by running: <div class=highlight><pre><span></span><code>curl -sL shell.cloudnativetoolkit.dev <span class=p>|</span> sh -
</code></pre></div></p> <ul> <li><strong>Note</strong>: If successful, you should see something like the following: <div class=highlight><pre><span></span><code>Downloading scripts: https://github.com/cloud-native-toolkit/cloud-shell-commands/releases/download/0.6.1/assets.tar.gz
** Installing argocd cli
** Installing tkn cli
** Installing kube-ps1
** Installing icc
** Installing Cloud-Native Toolkit cli
</code></pre></div></li> </ul> </li> <li>The installer updates PATH in the <code>.zshrc</code> or <code>.bashrc</code> file. You will need to source the file to apply the update to the current shell environment: <div class=highlight><pre><span></span><code><span class=k>if</span> <span class=o>[[</span> <span class=s2>&quot;</span><span class=si>${</span><span class=nv>SHELL</span><span class=si>}</span><span class=s2>&quot;</span> <span class=o>=</span>~ zsh <span class=o>]]</span><span class=p>;</span> <span class=k>then</span>
    <span class=nb>source</span> ~/.zshrc
<span class=k>else</span>
    <span class=nb>source</span> ~/.bashrc
<span class=k>fi</span>
</code></pre></div></li> <li>You can check the shell was installed correctly by checking the <code>oc</code> version: <div class=highlight><pre><span></span><code>oc sync --version
</code></pre></div></li> </ul> <h3 id=log-in-to-openshift-cluster>Log in to OpenShift Cluster<a class=headerlink href=#log-in-to-openshift-cluster title="Permanent link">&para;</a></h3> <ul> <li> <p>Log in to OpenShift Cluster from the cloud console. Go to Resource listStockItems and click on the cluster:</p> <p><img alt=OpenShift src=../../images/common/openshiftcluster.png></p> </li> <li> <p>Access the OpenShift console from within that console by clicking on the button.</p> <p><img alt="OpenShift Console" src=../../images/common/openshiftconsole.png></p> </li> <li> <p>In OpenShift Console, click on email address top right, Click on Copy Login Command and get the OpenShift login command, which includes a token.</p> <p><img alt="OpenShift Login" src=../../images/common/LoginCommand.png></p> </li> <li> <p>click on <strong><em>Display Token</em></strong>, copy the Login with the token. <code>oc login</code> command will log you in. Run the login command in the cloud shell terminal: <div class=highlight><pre><span></span><code>$ oc login --token<span class=o>=</span>qvARHflZDlOYfjJZRJUEs53Yfy4F8aa6_L3ezoagQFM --server<span class=o>=</span>https://c103-e.us-south.containers.cloud.ibm.com:30979
Logged into <span class=s2>&quot;https://c103-e.us-south.containers.cloud.ibm.com:30979&quot;</span> as <span class=s2>&quot;IAM#email@company&quot;</span> using the token provided.

You have access to <span class=m>71</span> projects, the list has been suppressed. You can list all projects with <span class=s1>&#39;oc projects&#39;</span>

Using project <span class=s2>&quot;dev-ab&quot;</span>.
</code></pre></div></p> </li> </ul> <h3 id=setup-code-base>Setup code base<a class=headerlink href=#setup-code-base title="Permanent link">&para;</a></h3> <p>Get the initial project created and register the pipeline for automated builds. Detailed instructions for each of these steps can be found in the <a href=/developer-intermediate/deploy-app>Deploying an App</a> guide.</p> <ul> <li> <p>Create a new repository from the <a href=https://github.com/IBM/template-carbon-react/generate>Carbon React template</a> into your Git org.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>If you are developing on a shared education cluster, place the repository in the <strong>Git Organization</strong> listed in your notification email and remember to add your initials as a suffix to the app name. - In order to prevent naming collisions, name the repository <code>inventory-management-bff-{your initials}</code> replacing <code>{your initials}</code> with your actual initials.</p> </div> </li> <li> <p>Clone the new repository to your machine.</p> </li> <li> <p>Run the following commands to install the project dependencies: <div class=highlight><pre><span></span><code>npm install -g yarn
yarn install
</code></pre></div></p> </li> <li> <p>Run the application locally: <div class=highlight><pre><span></span><code>yarn start:dev
</code></pre></div></p> </li> <li> <p>Go into the repository directory cloned and execute the following:</p> <div class=highlight><pre><span></span><code>oc sync dev-{your initials} 
</code></pre></div> </li> <li> <p>Register the pipeline: <div class=highlight><pre><span></span><code>oc pipeline --tekton
</code></pre></div></p> <ul> <li>replacing <code>{your initials}</code> with your actual initials</li> <li>Give git credentials if prompted, and master as the git branch to use. When prompted for the pipeline, select <code>igc-nodejs-&lt;VERSION&gt;</code>.</li> </ul> </li> <li> <p>Open the pipeline to see it running, using the link provided in the command output.</p> </li> </ul> <h3 id=create-the-initial-components>Create the initial components<a class=headerlink href=#create-the-initial-components title="Permanent link">&para;</a></h3> <p>Based on the requirements of this first use case, we will create a <code>StockItemList</code> component to list stock items.</p> <ul> <li> <p>Open a terminal and start the application in development mode to see the initial UI and the changes as we make them:</p> <div class=highlight><pre><span></span><code>yarn start:dev
</code></pre></div> </li> <li> <p>Access the running service. This service runs by default on port <code>3000</code>.</p> </li> <li> <p>Create the <code>StockItemList</code> React component that uses a <code>StructuredList</code> from the <a href=https://react.carbondesignsystem.com>Carbon React Components</a> portfolio: ```javascript title="src/content/StockItemList.jsx" import React from "react"; import { StructuredListWrapper, StructuredListHead, StructuredListRow, StructuredListCell, StructuredListBody } from '@carbon/react';</p> <p>const DEFAULT_ITEMS = [ { name: 'Item 1', stock: 10, unitPrice: 51.2, manufacturer: 'Sony' }, { name: 'Item 2', stock: 50, unitPrice: 10, manufacturer: 'LG' }, ]</p> <p>export default function StockItemList() { const items = DEFAULT_ITEMS;</p> <div class=highlight><pre><span></span><code>return (
    &lt;div className=&quot;stock-items-list&quot;&gt;
        &lt;h2&gt;Stock Items&lt;/h2&gt;
        &lt;StructuredListWrapper&gt;
            &lt;StructuredListHead&gt;
                &lt;StructuredListRow head&gt;
                    &lt;StructuredListCell head&gt;Name&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Stock&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Unit Price&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Manufacturer&lt;/StructuredListCell&gt;
                &lt;/StructuredListRow&gt;
            &lt;/StructuredListHead&gt;
            &lt;StructuredListBody&gt;
                {items.map(item =&gt; (
                    &lt;StructuredListRow&gt;
                        &lt;StructuredListCell noWrap&gt;{item.name}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.stock}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.unitPrice}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.manufacturer}&lt;/StructuredListCell&gt;
                    &lt;/StructuredListRow&gt;
                ))}
            &lt;/StructuredListBody&gt;
        &lt;/StructuredListWrapper&gt;
    &lt;/div&gt;
);
</code></pre></div> <p>} ```</p> </li> <li> <p>Now that we have our component to list stock items, let's add it to out app by editing the <code>src/content/UIShell/UIShell.jsx</code> file:</p> <ul> <li>Add our new component to the bottom of the imports section: <code>javascript title="src/content/UIShell/UIShell.jsx" ... import StockItemList from "../StockItemList"; ...</code></li> <li>Add a menu to our left navigation panel to link to a new <code>/inventory/items</code> route that we'll use to list stock items: ```javascript title="src/content/UIShell/UIShell.jsx" ... <sidenav aria-label="Side navigation" expanded={isSideNavExpanded}> <sidenavitems> <sidenavmenuitem element={Link} to=/ isactive={this.state.activeItem ==/ } onclick={() => { this.setState({ activeItem: '/' }) }}&gt; Overview </sidenavmenuitem> <sidenavmenu rendericon={Fade} title=Inventory defaultexpanded> <sidenavmenuitem element={Link} to=/inventory/items isactive={this.state.activeItem ==/inventory/items } onclick={() => { this.setState({ activeItem: '/inventory/items' }) }}&gt; Items </sidenavmenuitem> </sidenavmenu> <sidenavmenu rendericon={Fade} title=Management> <sidenavmenuitem href=#> Link </sidenavmenuitem> <sidenavmenuitem href=#> Link </sidenavmenuitem> <sidenavmenuitem href=#> Link </sidenavmenuitem> </sidenavmenu> <sidenavmenu rendericon={Fade} title=Docs> <sidenavmenuitem href=#> Link </sidenavmenuitem> <sidenavmenuitem href=#> Link </sidenavmenuitem> </sidenavmenu> </sidenavitems> </sidenav> ... <div class=highlight><pre><span></span><code>- Add a new route for the `/inventory/items` route:
```javascript title=&quot;src/content/UIShell/UIShell.jsx&quot;
...
&lt;Routes&gt;
    &lt;Route path=&quot;/&quot; element={&lt;LandingPage /&gt;} /&gt;
    &lt;Route path=&quot;/inventory/items&quot; element={&lt;StockItemList /&gt;} /&gt;
    &lt;Route path=&quot;*&quot; element={&lt;NotFound /&gt;} /&gt;
&lt;/Routes&gt;
...
</code></pre></div></li> </ul> </li> <li> <p>Open the application to check that you can now navigate to the <strong><em>Stock Items</em></strong> view: <img alt="Stock Items view" src=../../images/inventory-ui/ui-init-components.png></p> </li> <li> <p>With the application running in the first terminal, open a second terminal in the repository directory and push the changes we've just made: <div class=highlight><pre><span></span><code>git add .
git commit -m <span class=s2>&quot;Initial shell components&quot;</span>
git push
</code></pre></div></p> </li> <li> <p>On the openshift console, open the <a href=/developer-intermediate/deploy-app/#6-view-your-application-pipeline>pipeline to see it running</a>.</p> </li> </ul> <h3 id=add-a-service-component-to-get-mock-stock-items>Add a service component to get mock Stock Items<a class=headerlink href=#add-a-service-component-to-get-mock-stock-items title="Permanent link">&para;</a></h3> <p>Now that we've created the initial components, we can start to customize the <code>StockItemList</code> to match the data for our application. So far, we've built a UI that displays a hard-coded set of data in a table. Eventually, we want to display dynamic data provided from a database in the table. As a first step towards that goal, we need to separate the UI logic from the logic that retrieves the data. We will do that with a service component. For this first pass the service component will just return mock data.</p> <ul> <li> <p>Create a <code>src/services</code>: <div class=highlight><pre><span></span><code>mkdir src/services
</code></pre></div></p> </li> <li> <p>Create a file named <code>stock-item-mock.service.js</code> in the service directory, implementing the service by copying the data array from <code>StockItemList</code> and returning it in the function. You can add a <code>setTimeout()</code> 1s timeout to simulate loading: <code>javascript title="src/services/stock-item-mock.service.js" export class StockItemMockService { async listStockItems() { return new Promise(resolve =&gt; { // Wait 1 second before returning data setTimeout(() =&gt; { resolve([ { id: 1, name: 'Item 1', stock: 10, unitPrice: 51.2, manufacturer: 'Sony' }, { id: 2, name: 'Item 2', stock: 50, unitPrice: 10, manufacturer: 'LG' }, ]); }, 1000) }); } }</code></p> </li> <li> <p>Update the components to pass the service in the properties:</p> <p>```javascript title="src/App.test.jsx" import { render, screen } from '@testing-library/react'; import App from './App'; import {StockItemMockService} from "./services/stock-item-mock.service";</p> <p>describe('App', () =&gt; { test('canary verifies test infrastructure', () =&gt; { expect(true).toEqual(true); });</p> <p>test('renders text', () =&gt; { Object.defineProperty(window, "matchMedia", { writable: true, value: jest.fn().mockImplementation(query =&gt; ({ matches: false, media: query, onchange: null, addListener: jest.fn(), // Deprecated removeListener: jest.fn(), // Deprecated addEventListener: jest.fn(), removeEventListener: jest.fn(), dispatchEvent: jest.fn(), })) }); render(<app stockservice={new stockitemmockservice()} />); const linkElement = screen.getByText(/Design &amp; build with Carbon/i); expect(linkElement).toBeInTheDocument(); });</p> <p>}); <div class=highlight><pre><span></span><code>```javascript title=&quot;src/App.jsx&quot;
import React, { Component } from &#39;react&#39;;
import UIShell from &#39;./content/UIShell/UIShell&#39;;
import &#39;./App.scss&#39;;
import { StockItemMockService } from &quot;./services/stock-item-mock.service&quot;;

class App extends Component {
  constructor(props) {
    super(props);

    this.stockService = props.stockService || new StockItemMockService();
  }

  render() {
    return (
      &lt;div className=&quot;app&quot;&gt;
        &lt;UIShell stockService={this.stockService} /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre></div></p> <p><code>javascript title="src/content/UIShell/UIShell.jsx" ... &lt;Routes&gt; &lt;Route path="/" element={&lt;LandingPage /&gt;} /&gt; &lt;Route path="/inventory/items" element={&lt;StockItemList stockService={this.props.stockService} /&gt;} /&gt; &lt;Route path="*" element={&lt;NotFound /&gt;} /&gt; &lt;/Routes&gt; ...</code></p> </li> <li> <p>Update <code>StockItemList.jsx</code> to use the provided service:</p> <p>```javascript title="src/content/StockItemList.jsx" import React from 'react'; import { useQuery } from '@tanstack/react-query'; import { StructuredListWrapper, StructuredListHead, StructuredListRow, StructuredListCell, StructuredListBody, StructuredListSkeleton } from '@carbon/react';</p> <p>export default function StockItemList(props) { const { isLoading, error, data } = useQuery(['stock-items'], props.stockService.listStockItems);</p> <div class=highlight><pre><span></span><code>return (
    &lt;div className=&#39;stock-items-list&#39;&gt;
        &lt;h2&gt;Stock Items&lt;/h2&gt;
        {isLoading ?
            &lt;StructuredListSkeleton /&gt;
            : error ?
                &#39;Error retrieving stock items&#39;
            :
            &lt;StructuredListWrapper&gt;
            &lt;StructuredListHead&gt;
                &lt;StructuredListRow head&gt;
                    &lt;StructuredListCell head&gt;Name&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Stock&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Unit Price&lt;/StructuredListCell&gt;
                    &lt;StructuredListCell head&gt;Manufacturer&lt;/StructuredListCell&gt;
                &lt;/StructuredListRow&gt;
            &lt;/StructuredListHead&gt;
            &lt;StructuredListBody&gt;
                {data.map(item =&gt; (
                    &lt;StructuredListRow key={item.id}&gt;
                        &lt;StructuredListCell noWrap&gt;{item.name}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.stock}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.unitPrice}&lt;/StructuredListCell&gt;
                        &lt;StructuredListCell noWrap&gt;{item.manufacturer}&lt;/StructuredListCell&gt;
                    &lt;/StructuredListRow&gt;
                ))}
            &lt;/StructuredListBody&gt;
        &lt;/StructuredListWrapper&gt;}
    &lt;/div&gt;
);
</code></pre></div> <p>} ```</p> </li> <li> <p>Open the app in your browser, if the app isn't started run:</p> <div class=highlight><pre><span></span><code>yarn start:dev
</code></pre></div> </li> <li> <p>Push the changes we've made to the repository:</p> <div class=highlight><pre><span></span><code>git add .
git commit -m <span class=s2>&quot;Adds a mock service&quot;</span>
git push
</code></pre></div> </li> <li> <p>On the openshift console, open the <a href=/developer-intermediate/deploy-app/#6-view-your-application-pipeline>pipeline to see it running</a>.</p> </li> </ul> <h3 id=add-a-service-that-calls-the-bff>Add a service that calls the BFF<a class=headerlink href=#add-a-service-that-calls-the-bff title="Permanent link">&para;</a></h3> <p>Now that we have a mock service that injects data, we can build an implementation of the service that calls our BFF. For the service, we will use <code>axios</code> to make GraphQL calls to the BFF through an HTTP proxy exposed by the server, using <code>http-proxy-middleware</code>.</p> <ul> <li> <p>Install <code>axios</code> and <code>http-proxy-middleware</code>: <div class=highlight><pre><span></span><code>yarn add http-proxy-middleware axios
</code></pre></div></p> </li> <li> <p>Update the server to proxy BFF requests (configured in <code>API_HOST</code> environment variable) to <code>/api</code> endpoint: ```javascript title="server/server.js" const express = require('express'); const path = require('path'); const { createProxyMiddleware } = require('http-proxy-middleware');</p> <p>const app = express();</p> <p>app.use(express.static(path.join(__dirname, '../build')));</p> <p>app.use( '/api', createProxyMiddleware({ target: process.env.API_HOST, changeOrigin: true, pathRewrite: { '^/api': '/' }, }) );</p> <p>app.get('/health', function (req, res) { res.json({ status: 'UP' }); });</p> <p>app.get('/*', function (req, res) { res.sendFile(path.join(__dirname, '../build', 'index.html')); });</p> <p>const port = process.env.PORT ?? 3000; app.listen(port, function () { console.info(<code>Server listening on http://localhost:${port}</code>); }); ```</p> </li> <li> <p>Add a <code>src/setupProxy.js</code> file to setup the proxy for local development: ```javascript title="src/setupProxy.js" const { createProxyMiddleware } = require('http-proxy-middleware');</p> <p>module.exports = function(app) { app.use( '/api', createProxyMiddleware({ target: process.env.API_HOST, changeOrigin: true, pathRewrite: { '^/api': '/' }, }) ); }; ```</p> </li> <li> <p>Create a service implementation in the <code>services</code> directory called <code>stock-item.service.js</code> implementing <code>listStockItems()</code> that calls the BFF through the <code>/api</code> proxy: ```javascript title="src/services/stock-item.service.js" import axios from "axios";</p> <p>export class StockItemService { constructor(baseUrl) { this.baseUrl = baseUrl || '/api'; }</p> <div class=highlight><pre><span></span><code>async listStockItems() {
    return axios({
        url: &#39;/api/graphql&#39;,
        method: &quot;POST&quot;,
        data: {
            query: `
            {
                stockItems {
                    id
                    manufacturer
                    name
                    picture
                    stock
                    unitPrice
                }
            }
            `
        }
    }).then(response =&gt; response.data.data.stockItems);
}
</code></pre></div> <p>} ```</p> </li> <li> <p>Update <code>App.jsx</code> to use the new service instead of the mock service: ```javascript title="src/App.jsx" import React, { Component } from 'react'; import UIShell from './content/UIShell/UIShell'; import './App.scss'; import { StockItemService } from "./services/stock-item.service";</p> <p>class App extends Component { constructor(props) { super(props);</p> <div class=highlight><pre><span></span><code>this.stockService = props.stockService || new StockItemService();
</code></pre></div> <p>}</p> <p>render() { return ( <div classname=app> <uishell stockservice={this.stockService} /> </div> ); } }</p> <p>export default App; ```</p> </li> <li> <p>Open the application to check that your app is now retrieving data from BFF GraphQL endpoint: <img alt="GraphQL data view" src=../../images/inventory-ui/ui-graphql-data.png></p> </li> <li> <p>Modify <code>connectsTo</code> property to the <code>values.yaml</code> file of the Helm chart. The value of the property should match the Kubernetes service of the microservice. (For template projects, the service name is the same as the name of the application which is that same as the name of the repository): <code>yaml title="chart/base/values.yaml" ... connectsTo: inventory-management-bff-{your initials} ...</code></p> </li> <li> <p>Add a new environment variable named <code>API_HOST</code> to the list of existing environment variables in deployment.yaml. The value of this environment variable should come from the <code>connectsTo</code> value we defined. You can add <code>| quote</code> to wrap the value in quotes in case the value is not formatted correctly: <code>yaml title="chart/base/templates/deployment.yaml" ... env: - name: INGRESS_HOST value: "" - name: PROTOCOLS value: "" - name: LOG_LEVEL value: {{ .Values.logLevel | quote }} - name: API_HOST value: {{ printf "%s:80" .Values.connectsTo | quote } ...</code></p> </li> <li> <p>Push the changes we've made to the repository: <div class=highlight><pre><span></span><code>git add .
git commit -m <span class=s2>&quot;Updates the StockItemsList view&quot;</span>
git push
</code></pre></div></p> </li> <li> <p>On the openshift console, open the <a href=/developer-intermediate/deploy-app/#6-view-your-application-pipeline>pipeline to see it running</a>.</p> </li> </ul> <h2 id=summary>Summary<a class=headerlink href=#summary title="Permanent link">&para;</a></h2> <p>Congrats! You have now completed the Micro App Guide demonstrating the Inventory solution.</p> </article> </div> </div> </main> <!-- Footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text><a href=https://develop.cloudnativetoolkit.dev/contribute/contribute/ >Contribute</a> to the Cloud-Native Toolkit</div> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <div class=md-footer-text>Have questions? open an issue on <a href=https://github.com/cloud-native-toolkit/planning/issues/new/choose>GitHub</a>.</div> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright Â© 2022 IBM </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.76f349be.min.js></script> </body> </html>