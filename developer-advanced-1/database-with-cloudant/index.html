<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This Learning Journey enables cloud operators and developers to deliver cloud-native solutions with Red Hat OpenShift in hybrid cloud environments."><meta name=author content="Ecosystem Engineering"><link href=https://ibm-ecosystem-lab.github.io/developer-advanced-1/database-with-cloudant/ rel=canonical><link rel=icon href=../../images/cloudnativetoolkit.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.8"><title>Database with Cloudant - TechZone Automation - Cloud-Native Learning Journey</title><link rel=stylesheet href=../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback"><style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style><link rel=stylesheet href=../../css/extra.css><link rel=stylesheet href=../../css/toolkit-code.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-155887541-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="TechZone Automation - Cloud-Native Learning Journey - Database with Cloudant"><meta property=og:description content="This Learning Journey enables cloud operators and developers to deliver cloud-native solutions with Red Hat OpenShift in hybrid cloud environments."><meta content=https://ibm-ecosystem-lab.github.io/developer-advanced-1/database-with-cloudant/ property=og:url><meta property=og:image content=https://ibm-ecosystem-lab.github.io/assets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent> <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#add-a-cloudant-integration-to-your-backend-service class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="TechZone Automation - Cloud-Native Learning Journey" class="md-header__button md-logo" aria-label="TechZone Automation - Cloud-Native Learning Journey" data-md-component=logo> <img src=../../images/cloudnativetoolkit.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> TechZone Automation - Cloud-Native Learning Journey </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Database with Cloudant </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <!-- Determine class according to configuration --> <!-- Main navigation --> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <!-- Site title --> <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../.."
      title="TechZone Automation - Cloud-Native Learning Journey"
      class="md-nav__button md-logo"
      aria-label="TechZone Automation - Cloud-Native Learning Journey"
      data-md-component="logo"
    >
      
  <img src="../../images/cloudnativetoolkit.png" alt="logo">

    </a>
    TechZone Automation - Cloud-Native Learning Journey
  </label>
--> <!-- Repository information --> <div class=md-nav__source> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> </div> </a> </div> <!-- Render item list --> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Introduction <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Introduction data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/introduction/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../getting-started/prereqs/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../getting-started/checksetup/ class=md-nav__link> Validate Environment </a> </li> <li class=md-nav__item> <a href=../../getting-started/devenvsetup/ class=md-nav__link> Developer Tools Setup </a> </li> <li class=md-nav__item> <a href=../../getting-started/cli/ class=md-nav__link> Developer Tools CLI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Developer Foundation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Foundation" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Developer Foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-foundation/agenda/ class=md-nav__link> Agenda </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/cloud-native-overview/ class=md-nav__link> What is Cloud-Native? </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/cloud-native-app-dev/ class=md-nav__link> Cloud-Native App Dev </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/containers/ class=md-nav__link> Containers Overview </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-overview/ class=md-nav__link> Kubernetes 'overview' </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/openshift/ class=md-nav__link> Openshift 'overview' </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-core-concepts/ class=md-nav__link> Core Concepts </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-configuration/ class=md-nav__link> Configuration </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-multi-container-pods/ class=md-nav__link> Multi-Container Pods </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-observability/k8s-observability/ class=md-nav__link> Observability </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-pod-design/ class=md-nav__link> Pod Design </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-services-networking/ class=md-nav__link> Services & Networking </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-state-persistence/ class=md-nav__link> State Persistence </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/k8s-troubleshooting/ class=md-nav__link> Troubleshoot </a> </li> <li class=md-nav__item> <a href=../../developer-foundation/garage-development/ class=md-nav__link> Garage Method </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Developer Intermediate <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Intermediate" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer Intermediate </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-intermediate/agenda/ class=md-nav__link> Agenda </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/deploy-app/ class=md-nav__link> Deploy First App </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/continuous-delivery/ class=md-nav__link> Continuous Delivery </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/content-overview/ class=md-nav__link> DevSecOps Overview </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/continuous-integration/ class=md-nav__link> Continuous Integration </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/artifact-management/ class=md-nav__link> Artifact Management </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/code-analysis/ class=md-nav__link> Code Analysis </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_8 type=checkbox id=__nav_3_8> <label class=md-nav__link for=__nav_3_8> Image Registry <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Image Registry" data-md-level=2> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> Image Registry </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-intermediate/image-registry/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/ocp-registry/ class=md-nav__link> OpenShift </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_9 type=checkbox id=__nav_3_9> <label class=md-nav__link for=__nav_3_9> Log Management <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Log Management" data-md-level=2> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Log Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-intermediate/log-management/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/log-management/ class=md-nav__link> OpenShift </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_10 type=checkbox id=__nav_3_10> <label class=md-nav__link for=__nav_3_10> Monitoring <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Monitoring data-md-level=2> <label class=md-nav__title for=__nav_3_10> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-intermediate/monitoring/ class=md-nav__link> IBM Cloud </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/ocp-monitoring/ class=md-nav__link> OpenShift </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_11 type=checkbox id=__nav_3_11> <label class=md-nav__link for=__nav_3_11> Inventory App <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Inventory App" data-md-level=2> <label class=md-nav__title for=__nav_3_11> <span class="md-nav__icon md-icon"></span> Inventory App </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer-intermediate/inventory-application/ class=md-nav__link> Intro </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/inventory-prebuilt-solution/ class=md-nav__link> Solution </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/inventory-service/ class=md-nav__link> Service </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/inventory-bff/ class=md-nav__link> BFF </a> </li> <li class=md-nav__item> <a href=../../developer-intermediate/inventory-ui/ class=md-nav__link> UI </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Developer Advanced <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Advanced" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Developer Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../inventory-cd/ class=md-nav__link> CD for Inventory App </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Database with Cloudant <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Database with Cloudant </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#add-a-cloudant-integration-to-your-backend-service class=md-nav__link> Add a Cloudant integration to your backend service </a> </li> <li class=md-nav__item> <a href=#enable-database-in-the-solution class=md-nav__link> Enable database in the solution </a> <nav class=md-nav aria-label="Enable database in the solution"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#set-up-local-development class=md-nav__link> Set up local development </a> </li> <li class=md-nav__item> <a href=#activate-the-cloudant-service-implementation class=md-nav__link> Activate the Cloudant service implementation </a> </li> <li class=md-nav__item> <a href=#update-the-stockitemservice-implementation class=md-nav__link> Update the StockItemService implementation </a> </li> <li class=md-nav__item> <a href=#update-the-stockitem-model class=md-nav__link> Update the StockItem model </a> </li> <li class=md-nav__item> <a href=#update-the-stockitem-controller class=md-nav__link> Update the StockItem controller </a> </li> <li class=md-nav__item> <a href=#update-the-configuration-values-in-the-valuesyaml-helm-chart class=md-nav__link> Update the configuration values in the values.yaml helm chart </a> </li> <li class=md-nav__item> <a href=#add-a-cloudant-integration-to-your-backend-service_1 class=md-nav__link> Add a Cloudant integration to your backend service </a> </li> <li class=md-nav__item> <a href=#update-the-gradle-config-to-include-cloudant-dependencies class=md-nav__link> Update the gradle config to include cloudant dependencies </a> </li> <li class=md-nav__item> <a href=#configuration-values class=md-nav__link> Configuration values </a> </li> <li class=md-nav__item> <a href=#service-implementation class=md-nav__link> Service Implementation </a> </li> <li class=md-nav__item> <a href=#running-the-application-locally class=md-nav__link> Running the application locally </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../database-with-mongodb/ class=md-nav__link> Database with MongoDB </a> </li> <li class=md-nav__item> <a href=../inventory-appid/ class=md-nav__link> Authentication with AppID </a> </li> <li class=md-nav__item> <a href=../code-engine/ class=md-nav__link> Code Engine </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#add-a-cloudant-integration-to-your-backend-service class=md-nav__link> Add a Cloudant integration to your backend service </a> </li> <li class=md-nav__item> <a href=#enable-database-in-the-solution class=md-nav__link> Enable database in the solution </a> <nav class=md-nav aria-label="Enable database in the solution"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#set-up-local-development class=md-nav__link> Set up local development </a> </li> <li class=md-nav__item> <a href=#activate-the-cloudant-service-implementation class=md-nav__link> Activate the Cloudant service implementation </a> </li> <li class=md-nav__item> <a href=#update-the-stockitemservice-implementation class=md-nav__link> Update the StockItemService implementation </a> </li> <li class=md-nav__item> <a href=#update-the-stockitem-model class=md-nav__link> Update the StockItem model </a> </li> <li class=md-nav__item> <a href=#update-the-stockitem-controller class=md-nav__link> Update the StockItem controller </a> </li> <li class=md-nav__item> <a href=#update-the-configuration-values-in-the-valuesyaml-helm-chart class=md-nav__link> Update the configuration values in the values.yaml helm chart </a> </li> <li class=md-nav__item> <a href=#add-a-cloudant-integration-to-your-backend-service_1 class=md-nav__link> Add a Cloudant integration to your backend service </a> </li> <li class=md-nav__item> <a href=#update-the-gradle-config-to-include-cloudant-dependencies class=md-nav__link> Update the gradle config to include cloudant dependencies </a> </li> <li class=md-nav__item> <a href=#configuration-values class=md-nav__link> Configuration values </a> </li> <li class=md-nav__item> <a href=#service-implementation class=md-nav__link> Service Implementation </a> </li> <li class=md-nav__item> <a href=#running-the-application-locally class=md-nav__link> Running the application locally </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ibm-ecosystem-lab/ibm-gsi-cloudnative-journey/edit/main/docs/developer-advanced-1/database-with-cloudant.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Database with Cloudant</h1> <!--- cSpell:ignore dataload cloudantcredentials apikey classname gradlew viewapp cloudantgitpodscreen crwopenlink crwopenapp --> <h2 id=add-a-cloudant-integration-to-your-backend-service>Add a Cloudant integration to your backend service<a class=headerlink href=#add-a-cloudant-integration-to-your-backend-service title="Permanent link">&para;</a></h2> <ul> <li> <p>While logged into the IBM Cloud account use the resource list to find your pre installed Cloudant database instance name after your development cluster.</p> </li> <li> <p>Open the database instance dashboard.</p> </li> <li> <p>Click on the Service Credentials on the left-hand menu.</p> </li> <li> <p>You will see the credentials for the database which will be something like this: <img alt="Service Credentials" src=../../images/database-with-cloudant/cloudantcredentials.png></p> </li> <li> <p>Open a terminal window folder/directory called <code>data</code> <div class=highlight><pre><span></span><code>mkdir data
</code></pre></div></p> </li> <li> <p>To help create test JSON data we are going to supply a template to the JSON Generator tool, this helps when creating dummy data for testing. Navigate to the following link <a href=https://www.json-generator.com/ >https://www.json-generator.com/</a></p> </li> <li> <p>Replace the default template with the following template (using cut and paste). This will enable a 100 records of test data to be created to represent a products database. Click on the <em>Generate</em> button. <div class=highlight><pre><span></span><code><span class=o>{</span>
  docs: <span class=o>[</span>
    <span class=s1>&#39;{{repeat(100)}}&#39;</span>,
    <span class=o>{</span>
      _id: <span class=s1>&#39;{{objectId()}}&#39;</span>,
      manufacturer: <span class=s1>&#39;{{company().toUpperCase()}}&#39;</span>,
      name:  <span class=s1>&#39;{{lorem(3, &quot;words&quot;)}}&#39;</span>,
      price: <span class=s1>&#39;{{floating(10, 1000, 2, &quot;0.00&quot;)}}&#39;</span>,
      stock: <span class=s1>&#39;{{integer(1, 100)}}&#39;</span>
    <span class=o>}</span>
  <span class=o>]</span>
<span class=o>}</span>
</code></pre></div></p> </li> <li> <p>Copy the generated contents on the right hand side into a file called <code>inventory.json</code> and save it into the same folder.</p> </li> <li> <p>Download the <code>dataload.sh</code> script from the Iteration Zero repository using the following command: <div class=highlight><pre><span></span><code>curl https://raw.githubusercontent.com/ibm-garage-cloud/ibm-garage-iteration-zero/master/terraform/scripts/dataload.sh &gt;&gt; dataload.sh
</code></pre></div></p> </li> <li>Add the <code>username</code> and <code>apikey</code> to <code>CLOUDANT_USERNAME</code> and <code>CLOUDANT_API_KEY</code> variables in the <code>dataload.sh</code> script. You can get the credentials from the Cloudant credentials view in the IBM Cloud console.</li> <li>Add <code>DATABASE</code> value to be <code>inventory-&lt;replace with namespace&gt;</code> using the dev namespace/project name you have been using.</li> <li>Save the script, make it executable, and then run it by passing in the filename</li> <li>Before running this script,make sure you have <code>jq</code> installed. <div class=highlight><pre><span></span><code>chmod +x ./dataload.sh
./dataload.sh inventory.json
</code></pre></div></li> <li>The data from the <code>inventory.json</code> file will then be used to populate the database, to confirm this on the Dashboard click on Manage menu on the left and then Launch button to see the Cloudant dashboard.</li> <li>Click on the Left icon that looks like a Database and you will see the <code>inventory-&lt;namespace&gt;</code> database created.</li> <li>Click on the <code>inventory</code> database, then click <strong>Table</strong> view.</li> <li> <p>You can see the rows of data <img alt=Database src=../../images/database-with-cloudant/database.png></p> </li> <li> <p>If you click on a row of data, you will see the raw NoSQL form of the data record.</p> </li> <li>This completes the setup of the database and populating it with data.</li> </ul> <h2 id=enable-database-in-the-solution>Enable database in the solution<a class=headerlink href=#enable-database-in-the-solution title="Permanent link">&para;</a></h2> <p>If you are starting from the solution, use the following steps to enable the Cloudant database</p> <h3 id=set-up-local-development>Set up local development<a class=headerlink href=#set-up-local-development title="Permanent link">&para;</a></h3> <ul> <li> <p>Open the mappings.json file under src/main/resources and add a <code>DATABASE_NAME</code> value with the value <code>inventory-{namespace}</code> where <code>namespace</code> is the namespace where the pipeline is running (e.g. dev-{initials}) <code>json title="src/main/resources/mappings.json" { "DATABASE_NAME": "inventory-{namespace}" }</code></p> </li> <li> <p>Log into cloud.ibm.com and open the Cloudant service from the resource list</p> </li> <li> <p>Click on service credentials Tab.</p> </li> <li> <p>In service credentials, click on "New credential" button.</p> </li> <li> <p>Select the role "Manager"</p> </li> </ul> <p><img alt="Manager Service Credentials" src=../../images/database-with-cloudant/Cloudant-Service-Credentials.png></p> <ul> <li> <p>Navigate to your namespace where you are running the inventory solution pipeline and create the binding secret for the Cloudant instance on the cloud account <div class=highlight><pre><span></span><code>   oc project <span class=o>[</span>proj_name<span class=o>]</span>
   ibmcloud oc cluster service <span class=nb>bind</span> --cluster workshop-team-one 
   --namespace <span class=o>[</span>YOUR-NAMESPACE<span class=o>]</span> --service workshop-cldn-one
</code></pre></div></p> </li> <li> <p>The application needs a user with "manager" iam_role whereas the binding secret creates a user with "writer" iam_role resulting in "access denied" issues.</p> </li> <li> <p>Hence, the "binding" key in binding secret you just created needs to be replaced with the values of "manager" role user you created in Service Credentials on cloud.ibm.com.</p> </li> <li> <p>Copy the json contents from the credentials into <code>mappings.json</code> under the <code>CLOUDANT_CONFIG</code> object (note that CLOUDANT_CONFIG value must be a string type not a json type, so you must use escaping characters for this value). You could a JSON to String converting tool. <code>json title="src/main/resources/mappings.json" { "DATABASE_NAME": "inventory-{namespace}", "CLOUDANT_CONFIG": "{paste json here}" }</code></p> </li> </ul> <h3 id=activate-the-cloudant-service-implementation>Activate the Cloudant service implementation<a class=headerlink href=#activate-the-cloudant-service-implementation title="Permanent link">&para;</a></h3> <ul> <li> <p>Create a new file <code>src/main/java/com/ibm/inventory_management/services/StockItemMockService.java</code>.</p> </li> <li> <p>Copy the contents of <code>src/main/java/com/ibm/inventory_management/services/StockItemService.java</code> in this newly created <code>StockItemMockService.java</code> file.</p> </li> <li> <p>Do the following changes after copying the contents of StockItemService.java to this new file:</p> <ol> <li>Remove the <code>@Primary</code> annotation.</li> <li>Change the classname from StockItemService to StockItemMockService</li> </ol> </li> <li> <p>Open <code>src/main/java/com/ibm/inventory_management/services/StockItemApi.java</code> and add the following code to the file. The file should look like the following ```java title="src/main/java/com/ibm/inventory_management/services/StockItemApi.java" package com.ibm.inventory_management.services;</p> </li> </ul> <p>import java.util.List;</p> <p>import com.ibm.inventory_management.models.StockItem;</p> <p>public interface StockItemApi { List<stockitem> listStockItems() throws Exception;</p> <div class=highlight><pre><span></span><code>void addStockItem(String name, Double price, Integer stock, String manufacturer) throws Exception;

void updateStockItem(String id, String name, Double price, Integer stock, String manufacturer) throws Exception;

void deleteStockItem(String id) throws Exception;
</code></pre></div> <p>} ```</p> <h3 id=update-the-stockitemservice-implementation>Update the StockItemService implementation<a class=headerlink href=#update-the-stockitemservice-implementation title="Permanent link">&para;</a></h3> <p>```java title="src/main/java/com/ibm/inventory_management/services/StockItemService.java" package com.ibm.inventory_management.services;</p> <p>import java.io.IOException; import java.util.List; import javax.annotation.PostConstruct; import java.net.URL; import java.net.MalformedURLException; import java.util.UUID;</p> <p>import com.cloudant.client.api.CloudantClient; import com.cloudant.client.api.ClientBuilder; import com.cloudant.client.api.Database; import org.springframework.context.annotation.Primary; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Lazy; import org.springframework.stereotype.Service; import com.ibm.inventory_management.config.CloudantConfig; import com.ibm.inventory_management.models.StockItem;</p> <p>@Service @Primary public class StockItemService implements StockItemApi { @Bean public static CloudantClient buildCloudant(CloudantConfig config) throws CloudServicesException { System.out.println("Config: " + config); URL url = null;</p> <div class=highlight><pre><span></span><code>  try {
    url = new URL(config.getUrl());
  } catch (MalformedURLException e) {
    throw new CloudServicesException(&quot;Invalid service URL specified&quot;, e);
  }

  return ClientBuilder
      .url(url)
      .iamApiKey(config.getApiKey())
      // .username(config.getUsername())
      // .iamApiKey(config.getPassword())
      .build();
}

private CloudantConfig config;
private CloudantClient client;
private Database db = null;

public StockItemService(CloudantConfig config, @Lazy CloudantClient client) {
  this.config = config;
  this.client = client;
}

@PostConstruct
public void init() {
  db = client.database(config.getDatabaseName(), true);
}

@Override
public List&lt;StockItem&gt; listStockItems() throws Exception {

  try {
    return db.getAllDocsRequestBuilder()
        .includeDocs(true)
        .build()
        .getResponse()
        .getDocsAs(StockItem.class);

  } catch (IOException e) {
    throw new Exception(&quot;&quot;, e);
  }
}

@Override
public void addStockItem(String name, Double price, Integer stock, String manufacturer) throws Exception {
  try {
    db.save(new StockItem(UUID.randomUUID().toString())
            .withName(name)
            .withPrice(price)
            .withStock(stock)
            .withManufacturer(manufacturer)
    );
  } catch (Exception e) {
    throw new Exception(&quot;&quot;,e);
  }
}

@Override
public void updateStockItem(String id, String name, Double price, Integer stock, String manufacturer) throws Exception {
  try {
    StockItem itemToUpdate = db.find(StockItem.class,id);

    itemToUpdate.setName(name !=null ? name : itemToUpdate.getName());
    itemToUpdate.setManufacturer(manufacturer != null ? manufacturer : itemToUpdate.getManufacturer());
    itemToUpdate.setPrice(price != null ? price : itemToUpdate.getPrice());
    itemToUpdate.setStock(stock != null ? stock : itemToUpdate.getStock());

    db.update(itemToUpdate);
  } catch (Exception e ){
    throw new Exception(&quot;&quot;, e);
  }
}

@Override
public void deleteStockItem(String id) throws Exception {
  try {
    db.remove(db.find(StockItem.class,id));
  } catch (Exception e){
    throw new Exception(&quot;&quot;,e);
  }
}
</code></pre></div> <p>} ```</p> <h3 id=update-the-stockitem-model>Update the StockItem model<a class=headerlink href=#update-the-stockitem-model title="Permanent link">&para;</a></h3> <p>```java title="src/main/java/com/ibm/inventory_management/models/StockItem.java" package com.ibm.inventory_management.models;</p> <p>import java.io.Serializable;</p> <p>public class StockItem implements Serializable { private String name; private String _id = null;</p> <div class=highlight><pre><span></span><code>private String _rev = null;
private int stock = 0;
private double price = 0.0;
private String manufacturer = &quot;&quot;;

public StockItem() {
  super();
}

public StockItem(String id) {
  this._id = id;
}

public String getName() {
  return name;
}

public void setName(String name) {
  this.name = name;
}

public StockItem withName(String name) {
  this.setName(name);
  return this;
}

public String getId() {
  return _id;
}

public void setId(String id) {
  this._id = id;
}

public StockItem withId(String id) {
  this.setId(id);
  return this;
}


public int getStock() {
  return stock;
}

public void setStock(int stock) {
  this.stock = stock;
}

public StockItem withStock(int stock) {
  this.setStock(stock);
  return this;
}

public double getPrice() {
  return price;
}

public void setPrice(double price) {
  this.price = price;
}

public StockItem withPrice(double price) {
  this.setPrice(price);
  return this;
}

public String getManufacturer() {
  return manufacturer;
}

public void setManufacturer(String manufacturer) {
  this.manufacturer = manufacturer;
}

public StockItem withManufacturer(String manufacturer) {
  this.setManufacturer(manufacturer);
  return this;
}
</code></pre></div> <p>} ```</p> <h3 id=update-the-stockitem-controller>Update the StockItem controller<a class=headerlink href=#update-the-stockitem-controller title="Permanent link">&para;</a></h3> <p>```java title="src/main/java/com/ibm/inventory_management/controllers/StockItemController.java" package com.ibm.inventory_management.controllers;</p> <p>import java.util.List;</p> <p>import org.springframework.web.bind.annotation.*;</p> <p>import com.ibm.inventory_management.models.StockItem; import com.ibm.inventory_management.services.StockItemApi;</p> <p>@RestController public class StockItemController {</p> <div class=highlight><pre><span></span><code>private final StockItemApi service;

public StockItemController(StockItemApi service) {
  this.service = service;
}

@GetMapping(path = &quot;/stock-items&quot;, produces = &quot;application/json&quot;)
public List&lt;StockItem&gt; listStockItems() throws Exception{
  return this.service.listStockItems();
}

@PostMapping(path = &quot;/stock-item&quot;)
public void addStockItem(@RequestParam String name, @RequestParam String manufacturer, @RequestParam Double price, @RequestParam Integer stock) throws Exception{
  this.service.addStockItem(name,price,stock,manufacturer);
}

@PutMapping(path = &quot;/stock-item/{id}&quot;)
public void updateStockItem(@PathVariable(&quot;id&quot;) String id, @RequestParam(required=false) String name, @RequestParam(required=false) String manufacturer, @RequestParam(required=false) Double price, @RequestParam(required=false) Integer stock) throws Exception{
  this.service.updateStockItem(id,name, price, stock, manufacturer);
}

@DeleteMapping(path = &quot;/stock-item/{id}&quot;)
public void deleteStockItem(@PathVariable(&quot;id&quot;) String id) throws Exception{
  this.service.deleteStockItem(id);
}
</code></pre></div> <p>} ```</p> <h3 id=update-the-configuration-values-in-the-valuesyaml-helm-chart>Update the configuration values in the <code>values.yaml</code> helm chart<a class=headerlink href=#update-the-configuration-values-in-the-valuesyaml-helm-chart title="Permanent link">&para;</a></h3> <ul> <li>Open the <code>values.yaml</code> file and add the values <code>cloudantBinding</code> and <code>databaseName</code> <code>yaml title="chart/base/values.yaml" cloudantBinding="{binding name}" databaseName="inventory-{namespace}"</code></li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <code>cloudantBinding</code> value should match the name of the cloudant binding secret</p> </div> <h3 id=add-a-cloudant-integration-to-your-backend-service_1>Add a Cloudant integration to your backend service<a class=headerlink href=#add-a-cloudant-integration-to-your-backend-service_1 title="Permanent link">&para;</a></h3> <p>If you are following the instructions from MicroApp part 1 and want to enable the Cloudant database yourself, use the following directions.</p> <h3 id=update-the-gradle-config-to-include-cloudant-dependencies>Update the gradle config to include cloudant dependencies<a class=headerlink href=#update-the-gradle-config-to-include-cloudant-dependencies title="Permanent link">&para;</a></h3> <ul> <li> <p>Add <code>build-cloudant.gradle</code> to the gradle folder <div class=highlight><pre><span></span><code>  <span class=n>dependencies</span> <span class=o>{</span>
  <span class=n>compile</span> <span class=nl>group:</span> <span class=s1>&#39;com.cloudant&#39;</span><span class=o>,</span> <span class=nl>name:</span> <span class=s1>&#39;cloudant-client&#39;</span><span class=o>,</span> <span class=nl>version:</span> <span class=s1>&#39;2.17.0&#39;</span>
  <span class=n>compile</span> <span class=nl>group:</span> <span class=s1>&#39;com.jayway.jsonpath&#39;</span><span class=o>,</span> <span class=nl>name:</span> <span class=s1>&#39;json-path&#39;</span><span class=o>,</span> <span class=nl>version:</span> <span class=s1>&#39;2.4.0&#39;</span>
  <span class=n>compile</span> <span class=nl>group:</span> <span class=s1>&#39;javax.xml.bind&#39;</span><span class=o>,</span> <span class=nl>name:</span> <span class=s1>&#39;jaxb-api&#39;</span><span class=o>,</span> <span class=nl>version:</span> <span class=s1>&#39;2.1&#39;</span>
  <span class=n>compile</span> <span class=nl>group:</span> <span class=s1>&#39;joda-time&#39;</span><span class=o>,</span> <span class=nl>name:</span> <span class=s1>&#39;joda-time&#39;</span><span class=o>,</span> <span class=nl>version:</span> <span class=s1>&#39;2.10.3&#39;</span>
  <span class=o>}</span>
</code></pre></div></p> </li> <li> <p>Enable the cloudant libraries by applying the <code>build-cloudant.gradle</code> to the end of the build.gradle file</p> </li> </ul> <p><code>groovy title="build.gradle" apply from: 'gradle/build-cloudant.gradle'</code></p> <ul> <li>Run <code>./gradlew init</code> to validate the changes and load the libraries </li> </ul> <h3 id=configuration-values>Configuration values<a class=headerlink href=#configuration-values title="Permanent link">&para;</a></h3> <ul> <li>Add CloudantConfig to hold the <code>url</code>, <code>username</code>, <code>password</code>, <code>apikey</code> and <code>databaseName</code> values:</li> </ul> <p><code>java title="src/main/java/com/ibm/inventory_management/config/CloudantConfig.java" package com.ibm.inventory_management.config; import com.fasterxml.jackson.annotation.JsonIgnoreProperties; @JsonIgnoreProperties(ignoreUnknown = true) public class CloudantConfig { private String url; private String username; private String password; private String databaseName; private String apikey; public String getUrl() { return url; } public String getApikey() { return apikey; } public void setApikey(String url) { this.apikey = apikey; } public void setUrl(String url) { this.url = url; } public CloudantConfig withUrl(String url) { this.setUrl(url); return this; } public String getUsername() { return username; } public void setUsername(String username) { this.username = username; } public CloudantConfig withUsername(String username) { this.setUsername(username); return this; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public CloudantConfig withPassword(String password) { this.setPassword(password); return this; } public String getDatabaseName() { return databaseName; } public void setDatabaseName(String databaseName) { this.databaseName = databaseName; } public CloudantConfig withDatabaseName(String databaseName) { this.setDatabaseName(databaseName); return this; } public String toString() { return "[CloudantConfig: url=" + this.url + ", username=" + this.username + ", name=" + this.databaseName + "]"; } }</code></p> <ul> <li> <p>Implement logic to load the configuration from the secret binding or local file</p> </li> <li> <p>Add CloudantMapping and CloudantConfigFactory files to the config directory:</p> </li> </ul> <p>```java title="src/main/java/com/ibm/inventory_management/config/CloudantMapping.java" package com.ibm.inventory_management.config; import java.io.Serializable; import com.fasterxml.jackson.annotation.JsonProperty; public class CloudantMapping implements Serializable { @JsonProperty(value = "CLOUDANT_CONFIG") private String cloudantConfig; @JsonProperty(value = "DATABASE_NAME") private String databaseName; public String getCloudantConfig() { return cloudantConfig; } public void setCloudantConfig(String cloudantConfig) { this.cloudantConfig = cloudantConfig; } public String getDatabaseName() { return databaseName; } public void setDatabaseName(String databaseName) { this.databaseName = databaseName; } } <div class=highlight><pre><span></span><code>```java title=&quot;src/main/java/com/ibm/inventory_management/config/CloudantConfigFactory.java&quot;
package com.ibm.inventory_management.config;
import java.io.IOException;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.springframework.context.annotation.Bean;
import org.springframework.stereotype.Component;
@Component
public class CloudantConfigFactory {
@Bean
public CloudantConfig buildCloudantConfig() throws IOException {
   return buildConfigFromBinding(
           loadCloudantConfig(),
           loadDatabaseName()
   );
}
protected String loadCloudantConfig() throws IOException {
    return System.getProperty(&quot;CLOUDANT_CONFIG&quot;) != null
            ? System.getProperty(&quot;CLOUDANT_CONFIG&quot;)
            : loadCloudantMappingFromLocalDev().getCloudantConfig();
}
protected CloudantMapping loadCloudantMappingFromLocalDev() throws IOException {
    final ObjectMapper mapper = new ObjectMapper();

    return mapper.readValue(
            this.getClass().getClassLoader().getResourceAsStream(&quot;mappings.json&quot;),
            CloudantMapping.class
    );
}
protected String loadDatabaseName() throws IOException {
    return System.getProperty(&quot;DATABASE_NAME&quot;) != null
            ? System.getProperty(&quot;DATABASE_NAME&quot;)
            : loadCloudantMappingFromLocalDev().getDatabaseName();
}
protected CloudantConfig buildConfigFromBinding(String binding, String databaseName) throws IOException {
    final ObjectMapper mapper = new ObjectMapper();
    if (binding == null) {
        return new CloudantConfig();
    }
    final CloudantConfig baseConfig = mapper.readValue(binding, CloudantConfig.class);

    if (baseConfig == null) {
        return new CloudantConfig();
    }
    return baseConfig.withDatabaseName(databaseName);
}
}
</code></pre></div></p> <h3 id=service-implementation>Service Implementation<a class=headerlink href=#service-implementation title="Permanent link">&para;</a></h3> <ul> <li>Add a CloudantApi component to create the CloudantClient instance from the configuration.</li> </ul> <p><code>java title="src/main/java/com/ibm/inventory_management/services/CloudServicesException.java" package com.ibm.inventory_management.services; public class CloudServicesException extends Exception { public CloudServicesException() { } public CloudServicesException(String message) { super(message); } public CloudServicesException(String message, Throwable cause) { super(message, cause); } public CloudServicesException(Throwable cause) { super(cause); } public CloudServicesException( String message, Throwable cause, boolean enableSuppression, boolean writableStackTrace ) { super(message, cause, enableSuppression, writableStackTrace); } }</code></p> <p>```java title="src/main/java/com/ibm/inventory_management/services/CloudantApi.java" package com.ibm.inventory_management.services; import java.net.MalformedURLException; import java.net.URL; import com.cloudant.client.api.ClientBuilder; import com.cloudant.client.api.CloudantClient; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Profile; import org.springframework.stereotype.Component; import com.ibm.inventory_management.config.CloudantConfig; @Component @Profile("!mock") public class CloudantApi { @Bean public CloudantClient buildCloudant(CloudantConfig config) throws CloudServicesException { System.out.println("Config: " + config); URL url = null; try { url = new URL(config.getUrl()); } catch (MalformedURLException e) { throw new CloudServicesException("Invalid service URL specified", e); }</p> <div class=highlight><pre><span></span><code>  return ClientBuilder
          .url(url)
          .iamApiKey(config.getApikey())
          //.username(config.getUsername())
          //.password(config.getPassword())
          .build();
</code></pre></div> <p>} } ```</p> <ul> <li> <p>Open the <code>deployment.yaml</code> file and add environment variables that use those values to the top of the existing <code>env</code> block</p> <p><code>yaml title="chart/template-java-spring/templates/deployment.yaml" env: - name: CLOUDANT_CONFIG valueFrom: secretKeyRef: name: {{ .Values.cloudantBinding | quote }} key: binding - name: DATABASE_NAME value: {{ .Values.databaseName | quote }}</code></p> <h3 id=running-the-application-locally>Running the application locally<a class=headerlink href=#running-the-application-locally title="Permanent link">&para;</a></h3> </li> <li> <p>Start the application. <div class=highlight><pre><span></span><code>./gradlew build
./gradlew bootrun
</code></pre></div></p> </li> </ul> <div class=tabbed-set data-tabs=1:4><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>Cloud Shell</label><div class=tabbed-content> <ul> <li>To view the running app click on the <strong>Eye Icon</strong> on the top right and select the port <code>9080</code> this will open a browser tab and display the running app on that port.</li> </ul> <p><img alt="View App" src=../../images/database-with-cloudant/viewapp.png></p> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>Gitpod</label><div class=tabbed-content> <ul> <li>Once you run the application,gitpod gives the option to make the port "Public".Once you make the port Public, it gives you the option to "Open Preview" or "Open Browser".</li> </ul> <p><img alt="View App" src=../../images/database-with-cloudant/gitpod01.png></p> <ul> <li>Selecting "Open Preview" opens a window inside gitpod workspace tab.</li> </ul> <p><img alt=OpenPreview src=../../images/database-with-cloudant/cloudantgitpodscreen.png></p> <ul> <li>Selecting "Open Browser" opens a new browser tab for accessing the URL.</li> </ul> </div> <input id=__tabbed_1_3 name=__tabbed_1 type=radio><label for=__tabbed_1_3>Cloud Ready Workspaces</label><div class=tabbed-content> <ul> <li> <p>Click on open link <img alt="CRW Open Link" src=../../images/database-with-cloudant/crwopenlink.png></p> </li> <li> <p>To view this application in new tab click top right corner arrow icon <img alt="CRW Open App" src=../../images/database-with-cloudant/crwopenapp.png></p> </li> </ul> </div> <input id=__tabbed_1_4 name=__tabbed_1 type=radio><label for=__tabbed_1_4>Desktop/Laptop</label><div class=tabbed-content> <ul> <li>Open a browser to <a href=http://localhost:9080:swagger-ui.html><code>http://localhost:9080/swagger-ui.html</code></a></li> </ul> </div> </div> <hr> <ul> <li> <p>Once the application is up, go the Swagger UI and execute get <code>stock-items</code>.</p> </li> <li> <p>You should be able to see all the data you pushed to the database through ./dataload.sh</p> </li> </ul> <p><img alt=ResultScreen src=../../images/database-with-cloudant/ResultScreen.png></p> <p>Prebuilt solution for this can be found here: <a href=https://github.com/ibm-ecosystem-lab/inventory-management-svc-cloudant>Inventory Management Service Cloudant solution template</a></p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>You will need to setup your own Cloudant database, create your <code>mappings.json</code> file and update your <code>values.yaml</code> Helm file as mentioned before</p> </div> </article> </div> </div> </main> <!-- Footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-column> <div class=md-footer-text><a href=https://develop.cloudnativetoolkit.dev/contribute/contribute/ >Contribute</a> to the Cloud-Native Toolkit</div> <div class=md-footer-text>Site licensed under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ >CC BY-NC-SA 4.0</a></div> </div> <div class=md-footer-column> <div class=md-footer-text>Have questions? open an issue on <a href=https://github.com/cloud-native-toolkit/planning/issues/new/choose>GitHub</a>.</div> <!-- Copyright and theme information --> <div class=md-footer-text> Copyright © 2022 IBM </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.76f349be.min.js></script> </body> </html>