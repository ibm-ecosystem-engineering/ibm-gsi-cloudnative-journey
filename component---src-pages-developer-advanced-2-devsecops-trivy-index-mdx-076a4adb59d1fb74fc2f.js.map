{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/developer-advanced-2/devsecops-trivy/index.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","name","_frontmatter","PageDescription","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-developer-advanced-2-devsecops-trivy-index-mdx-076a4adb59d1fb74fc2f.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/admin/Documents/ISL/Code/GSI-Labs/ibm-gsi-cloudnative-journey/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nimport Globals from 'gatsby-theme-carbon/src/templates/Globals';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <PageDescription mdxType=\"PageDescription\">\nAquasec Trivy\n    </PageDescription>\n    <h2>{`Overview`}</h2>\n    <p>{`Trivy is an open-source tool from Aqua Security to scan container images for vulnerabilities. Trivy is a simple and comprehensive vulnerability scanner.`}</p>\n    <p>{`Trivy can detects vulnerabilities of operating systems packages (CentOS, RHEL, Alpine and etc.) and application dependencies (npm, yarn, Composer, etc). Trivy is easy to use. Just install the binary and start the scanning by specifying the target such as an image name of the container.`}</p>\n    <p>{`It is now available as an integrated option within a number of platforms. Trivy is also integrated into the Tekton pipeline of Cloud-Native Toolkit.`}</p>\n    <p>{`With the frequent feature and vulnerability database updates and its comprehensive vulnerability scanning, trivy brings in the higher levels of usability and performance.`}</p>\n    <p>{`Trivy is highly used in Continuous-Integration. Before pushing image and other artifacts to a registry or deploying your application, You can scan them easily.`}</p>\n    <h2>{`Features`}</h2>\n    <h4>{`Easy install`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`No pre-requisites such as installation of DB, libraries, etc`}</li>\n      <li parentName=\"ul\">{`apt-get install, yum install and brew install options are available for quick installation`}</li>\n    </ul>\n    <h4>{`Simple`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Specify only an image name or artifact name.`}</li>\n    </ul>\n    <h4>{`Fast`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`The first scan will finish within 10 seconds (depending on your network). Consequent scans will finish in few seconds.`}</li>\n    </ul>\n    <h4>{`Detect comprehensive vulnerabilities`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`OS packages (Alpine, Red Hat Universal Base Image, Red Hat Enterprise Linux, CentOS, Oracle Linux, Debian, Ubuntu, Amazon Linux, openSUSE Leap, SUSE Enterprise Linux, Photon OS and Distroless)`}</li>\n      <li parentName=\"ul\">{`Application dependencies (Bundler, Composer, Pipenv, Poetry, npm, yarn and Cargo)`}</li>\n    </ul>\n    <h4>{`High accuracy`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Especially Alpine Linux and RHEL/CentOS`}</li>\n      <li parentName=\"ul\">{`Other OSes are also high`}</li>\n    </ul>\n    <h4>{`DevSecOps`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Suitable for CI such as Travis CI, CircleCI, Jenkins, GitLab CI, etc.`}</li>\n    </ul>\n    <p>{`Thanks to `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/aquasecurity/trivy\"\n      }}>{`https://github.com/aquasecurity/trivy`}</a></p>\n    <h2>{`Artifacts scanned by Trivy`}</h2>\n    <p>{`Trivy can scan the following type of artifacts.`}</p>\n    <h4>{`Image`}</h4>\n    <p>{`Trivy can scan container images from the repository.`}</p>\n    <p>{`  ex: trivy image python:3.4-alpine`}</p>\n    <h4>{`Filesystem`}</h4>\n    <p>{`Trivy can go through filesystems such as`}</p>\n    <ul>\n      <li parentName=\"ul\">{`host machine`}</li>\n      <li parentName=\"ul\">{`a virtual machine image `}</li>\n      <li parentName=\"ul\">{`unpacked container image filesystem `}</li>\n    </ul>\n    <p>{`By going through the filesystems it can find and scan the following.`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Image file as tar (ex: trivy image —input ruby-2.3.0.tar)`}</li>\n      <li parentName=\"ul\">{`OCI image (ex: trivy image —input /path/to/alpine)`}</li>\n      <li parentName=\"ul\">{`Project containing lock files (ex. Gemfile.lock and package-lock.json)`}</li>\n    </ul>\n    <h4>{`Git Repository`}</h4>\n    <p>{`Trivy can scan your remote git repository for OS Packages.`}</p>\n    <p>{`ex: trivy repo `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/knqyf263/trivy-ci-test\"\n      }}>{`https://github.com/knqyf263/trivy-ci-test`}</a></p>\n    <h4>{`Embed in Dockerfile`}</h4>\n    <p>{`Trivy can scan your image as part of the build process when Trivy is embedded in the Dockerfile. `}</p>\n    <h2>{`Installation`}</h2>\n    <p>{`Trivy installation is very simple. You can use homebrew on macOS to install.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ brew install aquasecurity/trivy/trivy\n`}</code></pre>\n    <h2>{`How to scan with Trivy`}</h2>\n    <h3>{`Basic Scan`}</h3>\n    <p>{`Just by specifying image name you can kickstart the scanning. In the below example `}<inlineCode parentName=\"p\">{`python:3.4-alpine`}</inlineCode>{` is scanned.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image [YOUR_IMAGE_NAME]\n\n\n$ trivy image python:3.4-alpine\n`}</code></pre>\n    <p>{`Output`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`2020-06-23T23:11:07.297+0530    INFO    Detecting Alpine vulnerabilities...\n\npython:3.4-alpine (alpine 3.9.2)\n================================\nTotal: 15 (UNKNOWN: 0, LOW: 1, MEDIUM: 10, HIGH: 4, CRITICAL: 0)\n\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| LIBRARY | VULNERABILITY ID | SEVERITY | INSTALLED VERSION | FIXED VERSION |             TITLE              |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| bzip2   | CVE-2019-12900   | HIGH     | 1.0.6-r6          | 1.0.6-r7      | bzip2: out-of-bounds write in  |\n|         |                  |          |                   |               | function BZ2_decompress        |\n+---------+------------------+          +-------------------+---------------+--------------------------------+\n| expat   | CVE-2018-20843   |          | 2.2.6-r0          | 2.2.7-r0      | expat: large number of colons  |\n|         |                  |          |                   |               | in input makes parser consume  |\n|         |                  |          |                   |               | high amount...                 |\n+         +------------------+----------+                   +---------------+--------------------------------+\n|         | CVE-2019-15903   | MEDIUM   |                   | 2.2.7-r1      | expat: heap-based buffer       |\n|         |                  |          |                   |               | over-read via crafted XML      |\n|         |                  |          |                   |               | input                          |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| musl    | CVE-2019-14697   | HIGH     | 1.1.20-r4         | 1.1.20-r5     | musl libc through 1.1.23       |\n|         |                  |          |                   |               | has an x87 floating-point      |\n|         |                  |          |                   |               | stack adjustment imbalance,    |\n|         |                  |          |                   |               | related...                     |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| openssl | CVE-2019-1543    | MEDIUM   | 1.1.1a-r1         | 1.1.1b-r1     | openssl: ChaCha20-Poly1305     |\n|         |                  |          |                   |               | with long nonces               |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2019-1549    |          |                   | 1.1.1d-r0     | openssl: information           |\n|         |                  |          |                   |               | disclosure in fork()           |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2019-1551    |          |                   | 1.1.1d-r2     | openssl: Integer overflow in   |\n|         |                  |          |                   |               | RSAZ modular exponentiation on |\n|         |                  |          |                   |               | x86_64                         |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2019-1563    |          |                   | 1.1.1d-r0     | openssl: information           |\n|         |                  |          |                   |               | disclosure in PKCS7_dataDecode |\n|         |                  |          |                   |               | and CMS_decrypt_set1_pkey      |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2020-1967    |          |                   | 1.1.1g-r0     | openssl: Segmentation fault in |\n|         |                  |          |                   |               | SSL_check_chain causes denial  |\n|         |                  |          |                   |               | of service                     |\n+         +------------------+----------+                   +---------------+--------------------------------+\n|         | CVE-2019-1547    | LOW      |                   | 1.1.1d-r0     | openssl: side-channel weak     |\n|         |                  |          |                   |               | encryption vulnerability       |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| sqlite  | CVE-2019-8457    | HIGH     | 3.26.0-r3         | 3.28.0-r0     | sqlite: heap out-of-bound read |\n|         |                  |          |                   |               | in function rtreenode()        |\n+         +------------------+----------+                   +---------------+--------------------------------+\n|         | CVE-2019-16168   | MEDIUM   |                   | 3.28.0-r1     | sqlite: division by zero in    |\n|         |                  |          |                   |               | whereLoopAddBtreeIndex in      |\n|         |                  |          |                   |               | sqlite3.c                      |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2019-19242   |          |                   | 3.28.0-r2     | sqlite: SQL injection in       |\n|         |                  |          |                   |               | sqlite3ExprCodeTarget in       |\n|         |                  |          |                   |               | expr.c                         |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2019-5018    |          |                   | 3.28.0-r0     | sqlite: use-after-free in      |\n|         |                  |          |                   |               | window function leading to     |\n|         |                  |          |                   |               | remote code execution          |\n+         +------------------+          +                   +---------------+--------------------------------+\n|         | CVE-2020-11655   |          |                   | 3.28.0-r3     | sqlite: malformed              |\n|         |                  |          |                   |               | window-function query leads to |\n|         |                  |          |                   |               | DoS                            |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n`}</code></pre>\n    <h3>{`Filter vulnerabilities by severities`}</h3>\n    <p>{`Vulnerability results can be filtered. In the below example HIGH and CRITICAL issues are displayed`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image --severity HIGH,CRITICAL python:3.4-alpine\n`}</code></pre>\n    <pre><code parentName=\"pre\" {...{}}>{`\npython:3.4-alpine (alpine 3.9.2)\n================================\nTotal: 4 (UNKNOWN: 0, LOW: 0, MEDIUM: 0, HIGH: 4, CRITICAL: 0)\n\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| LIBRARY | VULNERABILITY ID | SEVERITY | INSTALLED VERSION | FIXED VERSION |             TITLE              |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n| bzip2   | CVE-2019-12900   | HIGH     | 1.0.6-r6          | 1.0.6-r7      | bzip2: out-of-bounds write in  |\n|         |                  |          |                   |               | function BZ2_decompress        |\n+---------+------------------+          +-------------------+---------------+--------------------------------+\n| expat   | CVE-2018-20843   |          | 2.2.6-r0          | 2.2.7-r0      | expat: large number of colons  |\n|         |                  |          |                   |               | in input makes parser consume  |\n|         |                  |          |                   |               | high amount...                 |\n+---------+------------------+          +-------------------+---------------+--------------------------------+\n| musl    | CVE-2019-14697   |          | 1.1.20-r4         | 1.1.20-r5     | musl libc through 1.1.23       |\n|         |                  |          |                   |               | has an x87 floating-point      |\n|         |                  |          |                   |               | stack adjustment imbalance,    |\n|         |                  |          |                   |               | related...                     |\n+---------+------------------+          +-------------------+---------------+--------------------------------+\n| sqlite  | CVE-2019-8457    |          | 3.26.0-r3         | 3.28.0-r0     | sqlite: heap out-of-bound read |\n|         |                  |          |                   |               | in function rtreenode()        |\n+---------+------------------+----------+-------------------+---------------+--------------------------------+\n`}</code></pre>\n    <h3>{`Filter vulnerabilities by type`}</h3>\n    <p>{`Trivy output can be generated as json.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image --vuln-type os ruby:2.4.0\n`}</code></pre>\n    <p>{`Types can be `}<inlineCode parentName=\"p\">{`os`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`library`}</inlineCode></p>\n    <h3>{`Trivy Results as JSON`}</h3>\n    <p>{`Trivy output can be generated as json.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image -f json -o results.json python:3.4-alpine\n`}</code></pre>\n    <h2>{`CI with Trivy`}</h2>\n    <p>{`As part of the Continuous Integration pipeline you can scan your image using the Trivy. The pipeline can be continued or stopped based on the vulnerabilities detected. To stop the pipeline `}<inlineCode parentName=\"p\">{`--exit-code 1`}</inlineCode>{` to be used.`}</p>\n    <p>{`So exit-code is used to break the pipeline based on vulnerability findings.`}</p>\n    <h4>{`Continue pipeline`}</h4>\n    <p>{`In the below example the Pipeline will continue, when MEDIUM and LOW severities found.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image --exit-code 0 --severity MEDIUM,LOW python:3.4-alpine\n`}</code></pre>\n    <h4>{`Stop pipeline`}</h4>\n    <p>{`In the below example the Pipeline stops, when CRITICAL and HIGH severities found.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$ trivy image --exit-code 1 --severity CRITICAL,HIGH python:3.4-alpine\n`}</code></pre>\n    <h2>{`Trivy Scan in Cloud-Native Toolkit`}</h2>\n    <p>{`Trivy scan is available as part of the Cloud-Native Toolkit Tekton pipeline. `}</p>\n    <p>{`The pipeline scripts are available at `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/ibm-garage-tekton-tasks/\"\n      }}>{`https://github.com/IBM/ibm-garage-tekton-tasks/`}</a></p>\n    <h3>{`Pipeline`}</h3>\n    <p>{`Here is the tekton pipeline of the toolkit. Here `}<inlineCode parentName=\"p\">{`Trivy scan`}</inlineCode>{` task is placed in between `}<inlineCode parentName=\"p\">{`build`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`deploy`}</inlineCode>{` to make sure the image is scanned before it is deployed in the cluster for health check and so on.`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"39.583333333333336%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6klEQVQoz5WRb2vEIAzG/f6fbrAXG4zB3nRttbbV1n9t9Vn0zrIbB3cL/AgmMcYnrO17NM03hmGA1voGpdQTzNCrgfx4BX97AZOrAh8EhBCIMSJbSgn/Nd98Yvl6B5uNx2IsgvcIIZxs2/Z0szpAOBI1nGd0XQdrDTw1dc6dWGcpfov5ezameEcsiwbLASlHQhaylhnekgxEPY/jpYZzDpHz5DM5N00T5afimVaXBZSJ8kt1QnvlGs8a58e9d79+YbHve9G+wjrRw/nwUKeW6pTdEB9oyVazYj+OM3CXmNALDkULDPv9mnr/B5zCbbf/1oReAAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"Cloud-Native Toolkit Pipeline \",\n          \"title\": \"Cloud-Native Toolkit Pipeline\",\n          \"src\": \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/3cbba/1-pipeline-tasks.png\",\n          \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/7fc1e/1-pipeline-tasks.png 288w\", \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/a5df1/1-pipeline-tasks.png 576w\", \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/3cbba/1-pipeline-tasks.png 1152w\", \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/0b124/1-pipeline-tasks.png 1728w\", \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/4ea69/1-pipeline-tasks.png 2304w\", \"/ibm-gsi-cloudnative-journey/static/fa3538fa6e0607062c4df51a98a3f52d/06d2f/1-pipeline-tasks.png 2552w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`Lets us explore in detail about the trivy-scan task.`}</p>\n    <h3>{`Pipeline Tasks`}</h3>\n    <p>{`Pipeline contains list of tasks.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"700px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"92.70833333333334%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB80lEQVQ4y51U247iMBTr///cvC4jwQ5DKQ2939PcvE5FCwywRRPJCoTiHB/7NDBaISoK7ITAOTqhD08YTwIqyzHGZ4wigTHmbQTWWlT9gD0JuqyAazo44+C0xW9WYLVE0ZbYiAh9lcOkZ+gL3EhyKDj3PgIzZpAqxjbdoG6/SCB4T0YkhOBD8bTDies+f779fkFgZAdQdjtIRFUFXTYw5wSOZ85hgV/TPmNe7h7BQLnOaiil8XEMUX4doMPjQ2+cc4//foKgpyHeGL8OdPuY56B2GMLSIFM1sHJ8mzQYhith0jQ4pRlM28H6i7p+InSjuiFccVm2FWOiYfjwnmT5IQT188w+kfxGbOTQTwZohnKbpijLErZupsp+RyjlIvmbPdxnGWxBtxly41HWk/yZdMbNTfeEfd9PI+PXiYSCLpvOV+2nRRPmEiH3QPhA7glnU/wPKU3JqhqOrlqeO/t6/F614E6yZkWbNEHDF4L6s8W4D2Hykv2sKZ1tSHKOZM7L5OsK27ZdJA909zOOUYUR1OdfyM2WJCl0nEzE3vmpDfY/kn0PZ5e/ywI1K/BmLNJ8O3wfL5euSu66bpG8Y2x2Cee4KKEp2wf7J8kagoZGzJLPdY0kiqFEyiy211jcviHWcugl+wo9BAlrjp1jL63ST+Oyhn9iNdOGu7VhRwAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Cloud-Native Toolkit Pipeline \",\n        \"title\": \"Cloud-Native Toolkit Pipeline\",\n        \"src\": \"/ibm-gsi-cloudnative-journey/static/38d449e22877940e6e5d023618cecb8d/f847a/2-pipeline.png\",\n        \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/38d449e22877940e6e5d023618cecb8d/7fc1e/2-pipeline.png 288w\", \"/ibm-gsi-cloudnative-journey/static/38d449e22877940e6e5d023618cecb8d/a5df1/2-pipeline.png 576w\", \"/ibm-gsi-cloudnative-journey/static/38d449e22877940e6e5d023618cecb8d/f847a/2-pipeline.png 700w\"],\n        \"sizes\": \"(max-width: 700px) 100vw, 700px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Line no. 50: Shows `}<inlineCode parentName=\"p\">{`build`}</inlineCode>{` task `}</p>\n    <p>{`Line no. 70: Shows `}<inlineCode parentName=\"p\">{`trivy-scan`}</inlineCode>{` task, which runs after `}<inlineCode parentName=\"p\">{`build`}</inlineCode>{` (line no 74).`}</p>\n    <p>{`Line no. 80: Shows `}<inlineCode parentName=\"p\">{`deploy`}</inlineCode>{` task, which runs after `}<inlineCode parentName=\"p\">{`trivy-scan`}</inlineCode>{` (line no 84).`}</p>\n    <h3>{`Task : build`}</h3>\n    <p>{`The build task executes the logic to build a container image, tag it and push it to a local container image repository (Ex: image-registry.openshift-image-registry.svc:5000/dev-g2/dev-g-trivy6:605b0ec).`}</p>\n    <p>{`Here `}<inlineCode parentName=\"p\">{`Buildah`}</inlineCode>{` tool is used to build, tag and push the the container image.  Buildah is a tool that facilitates building Open Container Initiative (OCI) container images.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"69.44444444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABuElEQVQ4y51T23LrIAz0//9gp51OE+fq+92OAcFWAseJk855OHh2JBBedoUdKd3iI/lGU8Rw1RlUHGHbC4Daw7n6LZf4nN/rgsiSxaHpkGUVqJ9ghxnOwg/nsBn3ucTn/HlEWikkfYd8HGDHSbaEx+98RLysOX/qti6InL7h1LbIuwawtJzuVgQV7/F1bVXo1IS077ErCui2gyPzYtO95f8kNFpDE+FYVjCnDJSWfDENqO7+T6FWN5C1+MxSnOsaVLYBTOqM2RC45TYe+bYmiBRfioxiHBEXJWZRl9Ww3QCnt/ZX638oWxXO8+yL+6pCnObo20C0nsrqPWjBmlOoS2QnTjEMPRTqpIDZX0BJCX1MoQ8JzDmDjq/QP+cArhte13ECteP5jufS86pjRyPsTQWFMiitApEQ7K9hY17DXPJAxNGcUr9GeRPml4L/Kv5+J3Y5Kx8fhHUfyEQZE6uvg1dlFrV3xaJGYLjXtukDmbce2hENw7AQdh62Z+nD5C34OV+OqCB+WQ6V2zf8mxr+Eux4833zPacQ1x76TWJvUWKuhf8upU/BFr+sNPdpDgcy2d2u75+PA34BYoJEz3CaK2sAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Cloud-Native Toolkit Pipeline \",\n        \"title\": \"Cloud-Native Toolkit Pipeline\",\n        \"src\": \"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/3cbba/3-task-build.png\",\n        \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/7fc1e/3-task-build.png 288w\", \"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/a5df1/3-task-build.png 576w\", \"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/3cbba/3-task-build.png 1152w\", \"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/0b124/3-task-build.png 1728w\", \"/ibm-gsi-cloudnative-journey/static/6703ebff9295786e05720b33d3cfdf54/60512/3-task-build.png 1940w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Line no. 102: Shows buildah is login into local container registry`}</p>\n    <p>{`Line no. 106: Shows buildah is pushing image to the local container registry. Given below the buildah push with variables substituted with values.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`+ buildah --storage-driver=overlay push --tls-verify=false --digestfile ./image-digest image-registry.openshift-image-registry.svc:5000/dev-g2/dev-g-trivy6:605b0ec docker://image-registry.openshift-image-registry.svc:5000/dev-g2/dev-g-trivy6:605b0ec\n`}</code></pre>\n    <h3>{`Task: trivy-scan`}</h3>\n    <p>{`Trivy-Scan task contains 2 steps. The steps are `}<inlineCode parentName=\"p\">{`Pull-image`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Scan-image`}</inlineCode>{`. Lets see them in detail in the below sections.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/IBM/ibm-garage-tekton-tasks/blob/master/tasks/3-img-scan-trivy.yaml\"\n      }}>{`https://github.com/IBM/ibm-garage-tekton-tasks/blob/master/tasks/3-img-scan-trivy.yaml`}</a></p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"60.416666666666664%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABfUlEQVQoz42SW3ODIBSE/f//rk99aNoxjYkSMSiINy7bA8RcJkknzOwAgp9n95g1iuGbbaD5FkYUmGuaVQnnGzjHSc2DrD0/D/Mql+5nw2LwzQXaugX6GRgWwOM6/OPsXdKzkREWrFf4YBUKzlGxGvWuxPJbwewYlvyQtAt7UsFgKg5bCzil4foBbpjil7z3yKwxKLoOG4IdlUKpNWQr4U5duqxIkl6UfdoHkSvvCGBskrURFoF6HFESaBxGQE94Z/h/zrJ5ntEMA8qTwEhZWnm2ocdYnZ/mZG1VOI9nGrZV12dhHieyvCxQBP1iR8h8D7OvE7DrL7MVCvYk0wesg1utBuvrOlp3yAzBJGlLzZh/9rEZlvKzQiYoBR7zCjm5ZDbm9cqyoQo7AuYldfAzp46WsLyNttaw7wP0lwbcri9NWQjIB42DIAj9CsFezChU5m8qWiE3+3V935RpwpF+lQM1xZHNkMV9Qc8hL4EwEwRB64aAxZHyEy9fegf4BzJ/qjhPiX8xAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Cloud-Native Toolkit Pipeline \",\n        \"title\": \"Cloud-Native Toolkit Pipeline\",\n        \"src\": \"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/3cbba/4-task-scan-1.png\",\n        \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/7fc1e/4-task-scan-1.png 288w\", \"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/a5df1/4-task-scan-1.png 576w\", \"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/3cbba/4-task-scan-1.png 1152w\", \"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/0b124/4-task-scan-1.png 1728w\", \"/ibm-gsi-cloudnative-journey/static/590ef6d5df67e883acc2d299f8392b49/ae642/4-task-scan-1.png 1924w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Line no. 29: Shows `}<inlineCode parentName=\"p\">{`pull-image`}</inlineCode>{` step`}</p>\n    <p>{`Line no. 71: Shows `}<inlineCode parentName=\"p\">{`scan-image`}</inlineCode>{` step`}</p>\n    <h3>{`Step: pull-image`}</h3>\n    <p>{`This step will pull the image from the local container registry (which was built in the previous task) and store it in the OCI image directory. `}</p>\n    <p>{`Here `}<inlineCode parentName=\"p\">{`skopeo`}</inlineCode>{` tool is used to the copy the image from local container registry to OCI image directory. Skopeo is a command line utility that performs various operations on container images and image repositories such as Copying an image from and to various storage mechanisms, Inspecting a remote image,  Deleting an image from an image repository and etc.`}</p>\n    <p>{`There is an option to skip this scan. When the flag `}<inlineCode parentName=\"p\">{`params.scan-image`}</inlineCode>{` is set to false then this can will be skipped.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"68.05555555555554%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkUlEQVQ4y41TiXaCMBD0/3/Q16q1yqFyGAEByTXdTYInts17y+4j7GRmNsxE36NoGqA6QzctrDawSsNaC15jvq85T+3zmhl6sRECXbSH+txCrmPoY/XS+G9AfqRNjSQvYHIBtaPcdrdGvDb/CRjXFeZZhjrNYbvLA6PnwH09KZke26JEStE2HXmovY+U3y37xPaFocoEzCqBWpCHqxhqX5KXKQwNytCgdLBClxXZ0cMEFc8eXwH1qSHQo8sjiDl3vplrYm7qM+xFOgDDKjziNKDc7CCXEeRX4hnGGU269gcwcH+BHaQH5/qNvxwOcFjGGOZrBzjMvzF8bCC3eyeb5Zq6fbw+eL+8ZGLjfCMQlRC74gTNFlCwd7ynktyBj8zZT1fTtzdr2gAoaIMGow5HX3MD59Dgmu/CKOX/pjHCreAcGFaeHd1DZshseJLWkC9STV6bXyVbZsKMhJ8yH+AGEqQ4psECZqwKcVWhDmWwSLjemTQGZURTXvCUI5IUNumauAnzASyVwXiPm8OBt/c+M4EfcaNE7AmC0LsAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Cloud-Native Toolkit Pipeline \",\n        \"title\": \"Cloud-Native Toolkit Pipeline\",\n        \"src\": \"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/3cbba/5-task-scan-2.png\",\n        \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/7fc1e/5-task-scan-2.png 288w\", \"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/a5df1/5-task-scan-2.png 576w\", \"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/3cbba/5-task-scan-2.png 1152w\", \"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/0b124/5-task-scan-2.png 1728w\", \"/ibm-gsi-cloudnative-journey/static/d32312c97e4739a401aaf84283ca19de/93664/5-task-scan-2.png 1914w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Line no. 70: skopeo copies the image from local container registry to OCI image directory. Given below the skopeo copy command with variables substituted with values. Here image is copied to `}<inlineCode parentName=\"p\">{`oci:/var/oci/image`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`skopeo copy --src-creds=xxxx --src-tls-verify=false docker://image-registry.openshift-image-registry.svc:5000/dev-g2/dev-g-trivy6:605b0ec oci:/var/oci/image\n`}</code></pre>\n    <h3>{`Step : scan-image`}</h3>\n    <p>{`This step runs an image scan with Trivy and fails the pipeline if issues are found.`}</p>\n    <p>{`In the previous step the image is copied to the OCI image directory `}<inlineCode parentName=\"p\">{`oci:/var/oci/image`}</inlineCode>{`. The variable `}<inlineCode parentName=\"p\">{`PATH_TO_IMAGE`}</inlineCode>{` would be pointing to this OCI image directory. This `}<inlineCode parentName=\"p\">{`PATH_TO_IMAGE`}</inlineCode>{` is passed to the trivy scan (line no 80 and 81). `}</p>\n    <p>{`The trivy scanning is done and `}<inlineCode parentName=\"p\">{`--exit-code`}</inlineCode>{` would be set according to the scan results. Based on the `}<inlineCode parentName=\"p\">{`--exit-code`}</inlineCode>{` pipeline will be continued or stopped.`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"53.81944444444444%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVQoz4VS2XLCMAzk/7+vL3RaSgkF0pCLEOLEx1YrkxIoUM9oJB9arVaetcOAZVnANC1CfoDNCkxXCAH31nhOP41nDBZViWS9hZ1/on9L4OsjbFog9MND0KeAjTF4SVPMxUxRw2338McTgve/CVP7F7CTtpOqwknaduVBwR61fQV8p4gCWmHSr1OEfQVXCKAA++YU47bDsxVu2M7GC7fLMSy3GBZf6vvXVYxpq128e1/D5XWUwloEd/a3gAw4BE3+2MB9F7LPlakT1ryzSQorRV1WqSwuZzc1rLxlgb+Am0zBCMpkAum05ZzJU12DP2vnH2ioh0KdrZHFaMpOtFVG1FMK0HRwhzbuTS86XgZ00ZBJWQnfyQMziDc6EH8y0fjxJZlM1eTdeEem1wwJWDXxAUFYfWRAG8/ouVfQLu7lN0xb/gFZAVwF0/EBxwAAAABJRU5ErkJggg==')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"Cloud-Native Toolkit Pipeline \",\n          \"title\": \"Cloud-Native Toolkit Pipeline\",\n          \"src\": \"/ibm-gsi-cloudnative-journey/static/bff47337ebd3a5776c3347edd298e2a7/3cbba/6-task-scan-3.png\",\n          \"srcSet\": [\"/ibm-gsi-cloudnative-journey/static/bff47337ebd3a5776c3347edd298e2a7/7fc1e/6-task-scan-3.png 288w\", \"/ibm-gsi-cloudnative-journey/static/bff47337ebd3a5776c3347edd298e2a7/a5df1/6-task-scan-3.png 576w\", \"/ibm-gsi-cloudnative-journey/static/bff47337ebd3a5776c3347edd298e2a7/3cbba/6-task-scan-3.png 1152w\", \"/ibm-gsi-cloudnative-journey/static/bff47337ebd3a5776c3347edd298e2a7/fd2a3/6-task-scan-3.png 1514w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`Line no. 80: Trivy scan is done and it print all the vulnerabilities found in the image.`}</p>\n    <p>{`Line no. 81: Trivy scan is done and it print all the CRITICAL vulnerabilities found in the image. `}</p>\n    <p>{`Line no. 84: Checks if any CRITICAL vulnerabilities found, based on the `}<inlineCode parentName=\"p\">{`--exit-code`}</inlineCode>{` from line no. 81.`}</p>\n    <p>{`Line no. 86: Exits the pipeline when CRITICAL vulnerabilities found.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}